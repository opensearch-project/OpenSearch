/*
 * SPDX-License-Identifier: Apache-2.0
 *
 * The OpenSearch Contributors require contributions made to
 * this file be licensed under the Apache-2.0 license or a
 * compatible open source license.
 */

apply plugin: 'opensearch.build'

description = 'Vectorized engine common interfaces for OpenSearch'

dependencies {
  api project(':libs:opensearch-core')
  api project(':libs:opensearch-common')

  // Log4j for RustLoggerBridge - used by JNI code to log from Rust
  implementation "org.apache.logging.log4j:log4j-api:${versions.log4j}"

  testImplementation(project(":test:framework")) {
    exclude group: 'org.opensearch', module: 'vectorized-exec-spi'
  }
}

tasks.named('forbiddenApisMain').configure {
  replaceSignatureFiles 'jdk-signatures'
}

jarHell.enabled = false

test {
  systemProperty 'tests.security.manager', 'false'
}
